<html ng-app="IMDB">
<head>
	<meta charset="utf-8">
	<title>IMDB</title>
	<script src="js/angular.min.js"></script>
	<script	src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-touch.js"></script>
	<script src="js/jquery-ui.js"></script>
	<link rel="stylesheet" href="style/jquery-ui.structure.css">
	<link rel="stylesheet" href="style/jquery-ui.theme.css">
	<script src="js/interface.js"></script>
	<script src="js/imdb.js"></script>
	<script src="js/controller/calendarioController.js"></script>
	<link rel="stylesheet" href="style/style.css">
</head>
<body ng-controller="calendarioCtrl" ng-init="initCompetizione()">
	<div id="wrapper">
		<div class="imdb-results__loading" data-ng-show="loading"></div>
		<div data-ng-hide="loading">
			<div class="menuContainer">
				<img id="{{comp.competizione}}" class="logo menuItem"
					ng-class="{selected : $index==0}"
					ng-repeat="comp in calendario | unique:'competizione'"
					ng-src="{{comp.logoCompetizione}}"
					ng-click="caricaCompetizione(comp.competizione)"> <img
					class="logo backHome" onclick="window.location='index.html'" alt=""
					src="images/football.png">
			</div>
			<div id="elencoGiornate">
				<ul>
					<li ng-repeat="cal in calendarioComp | unique:'idGiornata'"
						ng-click="visualizzaGiornata(cal.idGiornata)">{{cal.turno ||
						cal.giornata}}</li>
				</ul>
				<select class="selectMobile" ng-model="giorSelected" ng-options="cal.idGiornata as cal.giornata for cal in calendarioComp | unique:'idGiornata'" ng-change="visualizzaGiornata(giorSelected)">
				</select>
				<div>
					<table class="container" id="calendarioTable"
						data-ng-hide="!infoGiornata">
						<tbody>
							<tr ng-repeat="partita in infoGiornata" id="{{partita.idPartita}}" ng-click="caricaDettaglio(partita.idPartita, partita.giornata, partita.giocata, partita.idSquadraCasa, partita.idSquadraFuori, $event)">
								<td style="text-align: center"><img class="logo"
									ng-src="{{partita.logoCasa}}" /></td>
								<td>{{partita.squadraCasa}}</td>
								<td>{{partita.golCasa}} - {{partita.golFuori}}</td>
								<td>{{partita.squadraFuori}}</td>
								<td style="text-align: center"><img class="logo"
									ng-src="{{partita.logoFuori}}" /></td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="riepilogoContainer" style="display:none">
					<img alt="" src="images/close.png" ng-click="chiudiDettaglio()" class="closeButton">
					<table class="riepilogoTableContainer" id="{{infoPart.idPartita}}-{{infoPart.giornata}}">
						<tbody>
							<tr>
								<td style="vertical-align: top;" ng-show="squadraCasa.length">
									<table class="panchinaCasa panchina" >
										<tr>
											<th colspan="3">
												<img ng-src="images/panchina.png" class="logo"/>
											</th>
										</tr>
										<tr ng-repeat="riservaCasa in squadraCasa" ng-if="riservaCasa.titolare != '0' && riservaCasa.titolare != '-1'">
											<td>{{riservaCasa.ruolo}}</td>
											<td>{{riservaCasa.nomeAbbreviato}}</td>
											<td>{{riservaCasa.votoTotale}}</td>
										</tr>
									</table>
								</td>
								<td colspan="2" ng-hide="squadraCasa.length" class="nonConsegnata"> 
									Squadra non consegnata
								</td>
								<td style="border-radius: 35px; background: white;" ng-show="squadraCasa.length">
									<table class="titolariCasa titolari">
										<tr ng-repeat="titolareCasa in squadraCasa" ng-if="titolareCasa.titolare == '0'">
											<td>{{titolareCasa.ruolo}}</td>
											<td>{{titolareCasa.nomeAbbreviato}}</td>
											<td>{{titolareCasa.voto}}</td>
											<td>{{titolareCasa.bonusMalus}}</td>
											<td>{{titolareCasa.votoTotale}}</td>
										</tr>
									</table>
								</td>
								<td></td>
								<td style="border-radius:35px; background: white;" ng-show="squadraFuori.length">
									<table class="titolariFuori titolari">
										<tr ng-repeat="titolareFuori in squadraFuori" ng-if="titolareFuori.titolare == '0'">
											<td>{{titolareFuori.ruolo}}</td>
											<td>{{titolareFuori.nomeAbbreviato}}</td>
											<td>{{titolareFuori.voto}}</td>
											<td>{{titolareFuori.bonusMalus}}</td>
											<td>{{titolareFuori.votoTotale}}</td>
										</tr>
									</table>
								</td>
								<td colspan="2" ng-hide="squadraFuori.length" class="nonConsegnata"> 
									Squadra non consegnata
								</td>
								<td style="vertical-align: top;" ng-show="squadraFuori.length">
									<table class="panchinaFuori panchina">
										<tr>
											<th colspan="3">
												<img ng-src="images/panchina.png" class="logo"/>
											</th>
										</tr>
										<tr ng-repeat="riservaFuori in squadraFuori" ng-if="riservaFuori.titolare != '0' && riservaFuori.titolare != '-1'">
											<td>{{riservaFuori.ruolo}}</td>
											<td>{{riservaFuori.nomeAbbreviato}}</td>
											<td>{{riservaFuori.votoTotale}}</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td></td>
								<td style="background: white; border-radius: 35px;" ng-show="squadraCasa.length">
									<table class="riepilogoCasa riepilogo" >
										<tr>
						    				<td></td>
						    				<td>Parziale Squadra</td>
						    				<td>{{infoPartita.puntiCasa}}</td>
						    			</tr>
						    			<tr>
						    				<td></td>
						    				<td>Modificatore dif</td>
						    				<td>{{infoPartita.modCasa}}</td>
						    			</tr>
						    			<tr>
						    				<td></td>
						    				<td>Totale Squadra</td>
						    				<td>{{infoPartita.totaleCasa}}</td>
						    			</tr>
									</table>	
								</td>
								<td ng-hide="squadraCasa.length"></td>
								<td></td>
						    	<td style="background: white; border-radius: 35px;" ng-show="squadraFuori.length">
						    		<table class="riepilogoFuori riepilogo">
										<tr>
											<td>{{infoPartita.puntiFuori}}</td>
						    				<td>Parziale Squadra</td>
						    				<td></td>
						    			</tr>
						    			<tr>
						    				<td>{{infoPartita.modFuori}}</td>
						    				<td>Modificatore dif</td>
						    				<td></td>
						    			</tr>
						    			<tr>
						    				<td>{{infoPartita.totaleFuori}}</td>
						    				<td>Totale Squadra</td>
						    				<td></td>
						    			</tr>
									</table>	
						    	</td>
						    	<td ng-hide="squadraFuori.length"></td>
						    	<td></td>
						    </tr>
							
					    </tbody>
					</table>
				  </div>
				</div>
			</div>	
		</div>
	</body>
</html>